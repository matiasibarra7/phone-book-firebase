(this["webpackJsonpfirebase-storage-test"]=this["webpackJsonpfirebase-storage-test"]||[]).push([[0],{43:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(28),s=n.n(r),l=n(6),i=n.n(l),o=n(18),u=n(11),b=n(4),j=n(16),d=n(7),m=n(21);n(44),n(36),n(45);m.a.initializeApp({apiKey:"AIzaSyBTbPzUKMEJwgrXVWvFQyDFhThMbgX5cbs",authDomain:"udemy-auth-learning.firebaseapp.com",projectId:"udemy-auth-learning",storageBucket:"udemy-auth-learning.appspot.com",messagingSenderId:"409133570692",appId:"1:409133570692:web:9958d4098531ba38ac80d1",measurementId:"G-3WJTJZHHP4"});var h=m.a.firestore(),x=m.a.auth(),p=m.a.storage(),O=n(1),f="P5N8GPwMlwbegabdHgewSN0q0YO2";var v=function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),l=Object(b.a)(s,2),j=l[0],d=l[1],m=Object(a.useState)([]),x=Object(b.a)(m,2),p=x[0],v=x[1],g=Object(a.useState)(null),N=Object(b.a)(g,2),k=N[0],y=N[1],w=Object(a.useState)(!1),U=Object(b.a)(w,2),F=U[0],I=U[1],S=Object(a.useState)(null),D=Object(b.a)(S,2),C=D[0],P=D[1],T=Object(a.useState)(!1),M=Object(b.a)(T,2),L=M[0],B=M[1],E=Object(a.useState)(!1),H=Object(b.a)(E,2),W=H[0],A=H[1],G=function(e){return e.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}))};Object(a.useEffect)((function(){(function(){var t=Object(u.a)(i.a.mark((function t(){var n,a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A(!0),t.prev=1,!e.currentUser){t.next=10;break}return t.next=5,h.collection("phoneBook-".concat(e.currentUser)).get();case 5:n=t.sent,a=n.docs,c=a.map((function(e){return Object(o.a)({id:e.id},e.data())})),v(G(c)),A(!1);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}})()()}),[e.currentUser]);var J=function(){var t=Object(u.a)(i.a.mark((function t(){var n,a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A(!0),t.prev=1,!e.currentUser){t.next=10;break}return t.next=5,h.collection("phoneBook-".concat(e.currentUser)).get();case 5:n=t.sent,a=n.docs,c=a.map((function(e){return Object(o.a)({id:e.id},e.data())})),v(G(c)),A(!1);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.currentUser!==f){t.next=5;break}e.denyFeature(n),t.next=30;break;case 5:if(c.trim()){t.next=9;break}y("Name can't be blanck"),t.next=30;break;case 9:if(j){t.next=13;break}y("Phone can't be blanck"),t.next=30;break;case 13:return y(null),B(!0),a={name:c,phone:j},t.prev=16,t.next=19,h.collection("phoneBook-".concat(e.currentUser)).add(a);case 19:r(""),d(""),I(!0),J(),B(!1),setTimeout((function(){I(!1)}),3e3),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(16),console.log(t.t0);case 30:case"end":return t.stop()}}),t,null,[[16,27]])})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(u.a)(i.a.mark((function t(n){var a,c,s,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.collection("phoneBook-".concat(e.currentUser)).doc(n).get();case 3:a=t.sent,c=a.data(),s=c.name,l=c.phone,d(l),r(s),P(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),B(!0),a={name:c,phone:j},t.prev=3,t.next=6,h.collection("phoneBook-".concat(e.currentUser)).doc(C).set(a);case 6:P(null),d(""),r(""),J(),B(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.collection("phoneBook-".concat(e.currentUser)).doc(n).delete();case 3:J(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"text-center mt-5",children:"Phone Book"}),Object(O.jsx)("div",{className:"container mt-5",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-lg mb-5",children:[Object(O.jsx)("h2",{children:"New contact"}),Object(O.jsxs)("form",{className:"form-group",onSubmit:C?q:z,children:[Object(O.jsx)("input",{type:"text",value:c,onChange:function(e){return r(e.target.value)},className:"form-control",placeholder:"Type a name"}),Object(O.jsx)("input",{type:"number",value:j,onChange:function(e){return d(e.target.value)},className:"form-control",placeholder:"Type a number phone"}),Object(O.jsx)("div",{className:"d-grid gap-2",children:C?Object(O.jsx)(O.Fragment,{children:L?Object(O.jsx)("div",{className:"btn btn-dark btn-block mt-3",children:Object(O.jsx)("div",{className:"spinner-border text-light",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(O.jsx)("input",{type:"submit",value:"Update contact",className:"btn btn-primary btn-block mt-3"})}):Object(O.jsx)(O.Fragment,{children:L?Object(O.jsx)("div",{className:"btn btn-dark btn-block mt-3",children:Object(O.jsx)("div",{className:"spinner-border text-light",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(O.jsx)("input",{type:"submit",value:"Add contact",className:"btn btn-dark btn-block mt-3"})})})]}),k?Object(O.jsx)("div",{className:"text-danger mt-2",children:k}):Object(O.jsx)(O.Fragment,{}),F?Object(O.jsx)("div",{className:"text-success mt-2",children:"Person correctly added!"}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsxs)("div",{className:"col-lg mb-5",children:[Object(O.jsx)("h2",{children:"Contact list"}),Object(O.jsx)("ul",{className:"list-group",children:W?Object(O.jsx)("li",{className:"list-group-item text-center",children:Object(O.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(O.jsx)(O.Fragment,{children:p.length?p.map((function(t,n){return Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col",children:t.name}),Object(O.jsx)("div",{className:"col",children:t.phone}),Object(O.jsxs)("div",{className:"col btn-group float-end",children:[" ",Object(O.jsx)("button",{className:"btn btn-secondary",onClick:e.currentUser===f?e.denyFeature:function(){return R(t.id)},children:"Update"}),Object(O.jsx)("button",{className:"btn btn-danger",onClick:e.currentUser===f?e.denyFeature:function(){return K(t.id)},children:"Delete"})]})]})},t.id+n)})):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:"It seems that there are no people here..."}),Object(O.jsx)("div",{children:"Try adding a new contact!"})]})})})]})]})})]})};var g=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"text-center mt-5",children:"Home"}),Object(O.jsxs)("div",{className:"container mt-5 text-center",children:[Object(O.jsx)("p",{className:"fs-5 text",children:" Hello, there! Welcome! This is the home of my web aplication. "}),Object(O.jsx)("p",{className:"fs-5 text",children:" For now it is quite empty, in the future I going to add some things here. "})]})]})};var N=function(e){return Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(j.b,{className:"nav-link",to:e.path,children:[Object(O.jsx)("i",{className:e.icon,style:{width:"1.5rem"}}),Object(O.jsx)("span",{children:e.text})]})})};var k=function(e){var t=Object(d.f)();return Object(O.jsx)("header",{children:Object(O.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg d-flex justify-content-between",children:[Object(O.jsx)("ul",{className:"navbar-nav px-2 mb-2 mb-lg-0",children:e.currentUser?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(N,{icon:"fas fa-home",path:"/",text:"Home"}),"noOne"!==e.currentUser?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(N,{icon:"fas fa-address-book",path:"/phone-book",text:"Phone-book"}),Object(O.jsx)(N,{icon:"far fa-user",path:"/profile",text:"Profile"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(N,{icon:"fas fa-sign-in-alt",path:"/login",text:"Login"}),Object(O.jsx)(N,{icon:"fas fa-user-plus",path:"/register",text:"Register"})]})]}):Object(O.jsx)(O.Fragment,{})}),e.currentUser?Object(O.jsx)(O.Fragment,{children:"noOne"!==e.currentUser?Object(O.jsxs)("ul",{className:"navbar-nav px-2 mb-2 mb-lg-0",children:[Object(O.jsx)("li",{className:"nav-item text-center",children:Object(O.jsx)(j.b,{className:"nav-link",to:"/profile",children:Object(O.jsx)("span",{style:{color:"wheat"},children:e.userData?e.userData.nick:""})})}),Object(O.jsx)("li",{className:"nav-item d-flex justify-content-center",children:Object(O.jsxs)("button",{className:"btn btn-danger",onClick:function(){x.signOut().then((function(e){t.push("/")})).catch((function(e){console.log(e)}))},children:["Logout ",Object(O.jsx)("i",{className:"fas fa-sign-out-alt"})]})})]}):Object(O.jsx)(O.Fragment,{})}):Object(O.jsx)(O.Fragment,{})]})})};var y=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(b.a)(r,2),l=s[0],i=s[1],o=Object(a.useState)(null),u=Object(b.a)(o,2),m=u[0],h=u[1],p=Object(d.f)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"text-center mt-5",children:"Login"}),Object(O.jsxs)("form",{className:"container-fluid border mt-5",style:{maxWidth:"360px"},onSubmit:function(e){e.preventDefault(),x.signInWithEmailAndPassword(n,l).then((function(e){h(null),p.push("/")})).catch((function(e){h(e.message)}))},children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"emailInput",className:"form-label",children:"Email"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"emailInput",placeholder:"fake-mail@123.com",onChange:function(e){return c(e.target.value)}})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"passInput",className:"form-label",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"passInput",placeholder:"Type your password",onChange:function(e){return i(e.target.value)}})]}),Object(O.jsx)("div",{className:"mb-3",children:Object(O.jsx)("input",{type:"submit",className:"btn btn-dark btn-block mt-4 w-100",value:"Log In"})}),m?Object(O.jsx)("div",{className:"text-danger mb-2",children:m}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)("div",{className:"mb-2",children:["Don't have an account? ",Object(O.jsx)(j.b,{to:"/register",children:"Sign up"})," "]})]})]})};var w=function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),l=Object(b.a)(s,2),i=l[0],o=l[1],u=Object(a.useState)(null),j=Object(b.a)(u,2),m=j[0],h=j[1],p=Object(d.f)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"text-center mt-5",children:"Register"}),Object(O.jsxs)("form",{className:"container-fluid border mt-5",style:{maxWidth:"360px"},onSubmit:function(t){t.preventDefault(),x.createUserWithEmailAndPassword(c,i).then((function(t){e.showMessage("Great! Now you can use your own Phone book and personalize your profile!"),h(null),p.push("/")})).catch((function(e){h(e.message)}))},children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"emailInput",className:"form-label",children:"Email"}),Object(O.jsx)("input",{type:"email",className:"form-control",id:"emailInput",placeholder:"fake-mail@123.com",onChange:function(e){return r(e.target.value)}})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"passInput",className:"form-label",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"passInput",placeholder:"Type a password",onChange:function(e){return o(e.target.value)}})]}),Object(O.jsx)("div",{className:"mb-3",children:Object(O.jsx)("input",{type:"submit",className:"btn btn-dark btn-block mt-4 w-100",value:"Sign up"})}),m?Object(O.jsx)("div",{className:"text-danger mb-2",children:m}):Object(O.jsx)(O.Fragment,{})]})]})},U="P5N8GPwMlwbegabdHgewSN0q0YO2";var F=function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),l=Object(b.a)(s,2),j=l[0],m=l[1],f=Object(a.useState)(""),v=Object(b.a)(f,2),g=v[0],N=v[1],k=Object(a.useState)(null),y=Object(b.a)(k,2),w=y[0],F=y[1],I=Object(d.f)(),S=Object(a.useState)(e.currentUserData),D=Object(b.a)(S,2),C=D[0],P=D[1],T=Object(a.useState)(null),M=Object(b.a)(T,2),L=M[0],B=M[1],E=Object(a.useState)(!0),H=Object(b.a)(E,2),W=H[0],A=H[1];Object(a.useEffect)((function(){A(!0);var t=function(){var t=Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.currentUserId){t.next=7;break}return t.next=4,p.ref("/images/".concat(e.currentUserId)).getDownloadURL();case 4:n=t.sent,B(n),A(!1);case 7:t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),B(null),A(!1);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();P(e.currentUserData),t()}),[e.currentUserId,e.currentUserData]);var G=function(){var t=Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.currentUserId){t.next=6;break}return t.next=4,p.ref("/images/".concat(e.currentUserId)).getDownloadURL();case 4:n=t.sent,B(n);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),B(null);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(u.a)(i.a.mark((function t(){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.currentUserId){t.next=13;break}return t.prev=1,t.next=4,h.collection("Users-Data").doc(e.currentUserId).get();case 4:n=t.sent,P(n.data()),a=Object(o.a)(Object(o.a)({},n.data()),{},{id:e.currentUserId}),e.setCurrentUserData(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c.trim()){t.next=6;break}console.log("Name can't be blanck"),F("Name can't be blanck"),t.next=30;break;case 6:if(j){t.next=11;break}console.log("A gender must be select"),F("A gender must be select"),t.next=30;break;case 11:return F(null),A(!0),a={nick:c,gender:j},t.prev=14,t.next=17,h.collection("Users-Data").doc(e.currentUserId).set(a);case 17:if(!g){t.next=22;break}return t.next=20,p.ref("/images/".concat(e.currentUserId)).put(g);case 20:return t.next=22,G();case 22:return t.next=24,J();case 24:A(!1),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(14),console.log(n);case 30:case"end":return t.stop()}}),t,null,[[14,27]])})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.currentUserId!==U){t.next=5;break}console.log("No puedes borrar a esta tipa"),t.next=16;break;case 5:return t.prev=5,console.log("user deleted "+e.currentUserId),t.next=9,x.currentUser.delete();case 9:I.push("/login"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),e.showMessage("Only functional after a recently login"),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{className:"text-center mt-5",children:"Profile"}),Object(O.jsxs)("div",{className:"row mt-5",children:[Object(O.jsx)("div",{className:"col",children:W?Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"d-flex justify-content-center mb-5",children:Object(O.jsxs)("div",{className:"card",style:{width:"18rem"},children:[L?Object(O.jsx)("img",{src:L,className:"card-img-top",alt:"..."}):Object(O.jsx)("img",{src:"/phone-book-firebase/images/unnamed.jpg",className:"card-img-top",alt:"..."}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("h5",{className:"card-title",children:C?C.nick:"Unknown"}),Object(O.jsx)("p",{className:"card-text",children:C?C.gender:"No data"})]})]})})})}),Object(O.jsxs)("div",{className:"col mb-5",children:[Object(O.jsxs)("form",{onSubmit:e.currentUserId===U?e.denyFeature:z,className:"form-control",style:{maxWidth:"480px"},children:[Object(O.jsx)("h4",{children:"Edit Profile"}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"username",className:"form-label",children:"Name"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Type a name or nickname",onChange:function(e){r(e.target.value)}})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{className:"form-label",children:"Gender"}),Object(O.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){m(e.target.value)},children:[Object(O.jsx)("option",{defaultValue:!0,children:"Open this select menu"}),Object(O.jsx)("option",{value:"Male",children:"Male"}),Object(O.jsx)("option",{value:"Female",children:"Female"}),Object(O.jsx)("option",{value:"Unicorn",children:"Unicorn \ud83e\udd84"})]})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"imageInput",className:"form-label",children:"Name"}),Object(O.jsx)("input",{type:"file",className:"form-control",id:"imageInput",placeholder:"Type a name or nickname",onChange:function(e){return N(e.target.files[0])}}),Object(O.jsx)("div",{id:"emailHelp",className:"form-text",children:"If you want to keep the current profile pic, don't upload another image."})]}),Object(O.jsx)("input",{type:"submit",className:"btn btn-dark mt-4 w-100",value:"Update profile"}),w?Object(O.jsx)("div",{className:"text-danger mt-2",children:w}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)("form",{onSubmit:e.currentUserId===U?e.denyFeature:R,children:Object(O.jsx)("input",{type:"submit",value:"Delete account",className:"btn btn-danger mt-5"})})]})]})]})};var I=function(){return Object(O.jsx)("footer",{className:"footer mt-auto d-flex justify-content-end fs-6 px-2",style:{height:"3rem",backgroundColor:"#CFD7C7"},children:Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)("div",{children:"Hecho por Mat\xedas Ibarra"}),Object(O.jsxs)("div",{className:"d-flex justify-content-around fs-2",style:{minWidth:"4.5rem"},children:[Object(O.jsx)("a",{href:"https://github.com/matiasibarra7",target:"_blank",rel:"noreferrer",children:Object(O.jsx)("i",{className:"fab fa-github",style:{color:"black"}})}),Object(O.jsx)("a",{href:"https://linkedin.com/in/ibarra-nahuel-matias",target:"_blank",rel:"noreferrer",children:Object(O.jsx)("i",{className:"fab fa-linkedin",style:{color:"#0e76a8"}})})]})]})})};var S=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(b.a)(r,2),l=s[0],m=s[1],p=Object(a.useState)(null),f=Object(b.a)(p,2),N=f[0],U=f[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.collection("Users-Data").doc(t).get();case 3:n=e.sent,m(Object(o.a)(Object(o.a)({},n.data()),{},{id:t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();x.onAuthStateChanged((function(t){t?(c(t.uid),e(t.uid)):(c("noOne"),m(null))}))}),[]);var S=function(e){e.preventDefault(),D("deny")},D=function(e){"deny"===e?(U("This operation is reserved for register users only. If you wanna try it, please, register with an email (Not necessary a real one) and try again"),setTimeout((function(){U(null)}),1e4)):(U(e),setTimeout((function(){U(null)}),4e3))};return Object(O.jsxs)(j.a,{basename:"/",children:[Object(O.jsx)(k,{currentUser:n,userData:l}),Object(O.jsxs)("main",{className:"flex-shrink-0",children:[N?Object(O.jsx)("div",{className:"alert alert-success",role:"alert",children:N}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{exact:!0,path:"/",children:Object(O.jsx)(g,{msg:N,showMessage:D})}),Object(O.jsx)(d.a,{path:"/login",children:Object(O.jsx)(y,{})}),Object(O.jsx)(d.a,{path:"/register",children:Object(O.jsx)(w,{showMessage:D})}),Object(O.jsx)(d.a,{path:"/phone-book",children:Object(O.jsx)(v,{currentUser:n,denyFeature:S})}),Object(O.jsx)(d.a,{path:"/profile",children:Object(O.jsx)(F,{currentUserId:n,setCurrentUserData:m,currentUserData:l,denyFeature:S,showMessage:D})})]})]}),Object(O.jsx)(I,{})]})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.08cba8e0.chunk.js.map