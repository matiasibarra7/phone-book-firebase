(this["webpackJsonpfirebase-storage-test"]=this["webpackJsonpfirebase-storage-test"]||[]).push([[0],{30:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n.n(a),r=n(18),s=n.n(r),o=n(19),l=n(9),i=n.n(l),u=n(12),b=n(11),p=n(15);n(28);p.a.initializeApp({apiKey:"AIzaSyBTbPzUKMEJwgrXVWvFQyDFhThMbgX5cbs",authDomain:"udemy-auth-learning.firebaseapp.com",projectId:"udemy-auth-learning",storageBucket:"udemy-auth-learning.appspot.com",messagingSenderId:"409133570692",appId:"1:409133570692:web:9958d4098531ba38ac80d1",measurementId:"G-3WJTJZHHP4"});var d=p.a.firestore(),j=n(3);var m=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(b.a)(r,2),l=s[0],p=s[1],m=Object(a.useState)([]),h=Object(b.a)(m,2),f=h[0],v=h[1],x=Object(a.useState)(null),O=Object(b.a)(x,2),g=O[0],k=O[1],N=Object(a.useState)(!1),y=Object(b.a)(N,2),w=y[0],S=y[1],B=Object(a.useState)(null),T=Object(b.a)(B,2),I=T[0],D=T[1];Object(a.useEffect)((function(){C()}),[]);var J=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.collection("phoneBook").doc(t).delete();case 3:console.log("eliminado"),C(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.collection("phoneBook").doc(t).get();case 3:n=e.sent,a=n.data(),r=a.name,s=a.phone,p(s),c(r),console.log(r,s),D(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:n,phone:l},e.prev=2,e.next=5,d.collection("phoneBook").doc(I).set(a);case 5:console.log("Se actualiz\xf3!"),D(null),p(""),c(""),C(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.collection("phoneBook").get();case 2:t=e.sent,n=t.docs,a=n.map((function(e){return Object(o.a)({id:e.id},e.data())})),v(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()){e.next=5;break}k("Name can't be blanck"),e.next=24;break;case 5:if(l){e.next=9;break}k("Phone can't be blanck"),e.next=24;break;case 9:return k(null),a={name:n,phone:l},e.prev=11,e.next=14,d.collection("phoneBook").add(a);case 14:c(""),p(""),S(!0),C(),setTimeout((function(){S(!1)}),2e3),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[11,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h2",{children:"New User"}),Object(j.jsxs)("form",{className:"form-group",onSubmit:I?z:F,children:[Object(j.jsx)("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)},className:"form-control",placeholder:"Type a name"}),Object(j.jsx)("input",{type:"number",value:l,onChange:function(e){return p(e.target.value)},className:"form-control",placeholder:"Type a number phone"}),Object(j.jsx)("div",{className:"d-grid gap-2",children:I?Object(j.jsx)("input",{type:"submit",value:"Update user",className:"btn btn-primary btn-block mt-3"}):Object(j.jsx)("input",{type:"submit",value:"Add user",className:"btn btn-dark btn-block mt-3"})})]}),g?Object(j.jsx)("div",{className:"text-danger mt-2",children:g}):Object(j.jsx)(j.Fragment,{}),w?Object(j.jsx)("div",{className:"text-success mt-2",children:"Person correctly added!"}):Object(j.jsx)(j.Fragment,{})]}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h2",{children:"Users List"}),Object(j.jsx)("ul",{className:"list-group",children:f.length?f.map((function(e,t){return Object(j.jsx)("li",{className:"list-group-item",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col",children:e.name}),Object(j.jsx)("div",{className:"col",children:e.phone}),Object(j.jsxs)("div",{className:"col btn-group float-end",children:[Object(j.jsx)("button",{className:"btn btn-secondary",onClick:function(){return U(e.id)},children:"Update"}),Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){return J(e.id)},children:"Delete"})]})]})},e.id+t)})):Object(j.jsx)("div",{children:"There aren't people here..."})})]})]})})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.1971276e.chunk.js.map