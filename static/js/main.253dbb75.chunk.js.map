{"version":3,"sources":["firebaseConfig.js","components/PhoneBook.js","components/Home.js","components/Menu.js","components/Login.js","components/Register.js","components/Profile.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","store","storage","PhoneBook","props","useState","nameInput","setNameInput","phoneInput","setPhoneInput","contacts","setContacts","error","setError","success","setSuccess","IdToUpdate","setIdToUpdate","loadingAdd","setLoadingAdd","loadingPeople","setLoadingPeople","useEffect","a","currentUser","collection","get","docs","dataUsers","map","el","id","data","console","log","getContacts","newContact","e","preventDefault","trim","newObjectContact","name","phone","add","setTimeout","editContact","doc","person","updateContact","updatedContact","set","deleteContact","delete","className","onSubmit","type","value","onChange","target","placeholder","role","length","i","onClick","Home","msg","showMessage","Menu","history","useHistory","to","signOut","then","res","push","catch","Login","email","setEmail","password","setPassword","style","maxWidth","signInWithEmailAndPassword","message","htmlFor","Register","createUserWithEmailAndPassword","Profile","nick","setNick","gender","setGender","imageFile","setImageFile","dataProfile","setDataProfile","imageProfileURL","setImageProfileURL","loadingDataProfile","setLoadingDataProfile","getImageProfile","ref","getDownloadURL","imgURL","dataUser","getDataProfile","updateProfile","userData","put","aria-label","defaultValue","files","width","src","alt","App","currentUserId","setCurrentUserId","setMessage","onAuthStateChanged","user","uid","basename","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.253dbb75.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/storage\"\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBTbPzUKMEJwgrXVWvFQyDFhThMbgX5cbs\",\r\n  authDomain: \"udemy-auth-learning.firebaseapp.com\",\r\n  projectId: \"udemy-auth-learning\",\r\n  storageBucket: \"udemy-auth-learning.appspot.com\",\r\n  messagingSenderId: \"409133570692\",\r\n  appId: \"1:409133570692:web:9958d4098531ba38ac80d1\",\r\n  measurementId: \"G-3WJTJZHHP4\"\r\n};\r\n// Initialize Firebase\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\nconst db = firebase.firestore()\r\nconst auth = firebase.auth()\r\nconst store = firebase.storage()\r\n\r\nexport {db, auth, store}","import React, { useState, useEffect } from \"react\";\r\nimport { db } from '../firebaseConfig'\r\n\r\n\r\nfunction PhoneBook(props) {\r\n  const [nameInput, setNameInput] = useState('')\r\n  const [phoneInput, setPhoneInput] = useState('')\r\n  const [contacts, setContacts] = useState([])\r\n  const [error, setError] = useState(null)\r\n  const [success, setSuccess] = useState(false)\r\n  const [IdToUpdate, setIdToUpdate] = useState(null)\r\n\r\n  const [loadingAdd, setLoadingAdd] = useState(false)\r\n  const [loadingPeople, setLoadingPeople] = useState(false)\r\n  \r\n  useEffect( ()=> {\r\n    const getContacts = async() => {\r\n      setLoadingPeople(true)\r\n      try {\r\n        /* console.log(\"currentUser \", props.currentUser) */\r\n        \r\n        if (props.currentUser) {\r\n          const { docs } = await db.collection(`phoneBook-${props.currentUser}`).get();\r\n          const dataUsers = docs.map(el => { return {id: el.id, ...el.data()}})\r\n          setContacts(dataUsers)\r\n          setLoadingPeople(false)\r\n        }\r\n      }\r\n      catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    getContacts()\r\n\r\n  }, [props.currentUser])\r\n\r\n  const getContacts = async() => {\r\n    setLoadingPeople(true)\r\n    try {\r\n      /* console.log(\"currentUser \", props.currentUser) */\r\n\r\n      if (props.currentUser) {\r\n        const { docs } = await db.collection(`phoneBook-${props.currentUser}`).get();\r\n        const dataUsers = docs.map(el => { return {id: el.id, ...el.data()}})\r\n        setContacts(dataUsers)\r\n        setLoadingPeople(false)\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  const newContact = async(e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!nameInput.trim()) {\r\n      setError(\"Name can't be blanck\")\r\n    } else if (!phoneInput) {\r\n      setError(\"Phone can't be blanck\")\r\n    } else {\r\n      setError(null)\r\n      setLoadingAdd(true)\r\n\r\n\r\n      const newObjectContact = {\r\n        name: nameInput,\r\n        phone: phoneInput\r\n      };\r\n      try {\r\n        await db.collection(`phoneBook-${props.currentUser}`).add(newObjectContact);\r\n        setNameInput('')\r\n        setPhoneInput('')\r\n        setSuccess(true)\r\n        getContacts()\r\n        setLoadingAdd(false)\r\n\r\n        setTimeout(() => {\r\n          setSuccess(false)\r\n        }, 3000)\r\n      }\r\n      catch(e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  const editContact = async(id) => {\r\n    try {\r\n      const person = await db.collection(`phoneBook-${props.currentUser}`).doc(id).get()\r\n      const {name, phone} = person.data()\r\n      setPhoneInput(phone)\r\n      setNameInput(name)\r\n      setIdToUpdate(id)\r\n    }\r\n    catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  const updateContact = async(e) => {\r\n    e.preventDefault()\r\n    setLoadingAdd(true)\r\n    const updatedContact = {\r\n      name: nameInput,\r\n      phone: phoneInput\r\n    };\r\n    try {\r\n      await db.collection(`phoneBook-${props.currentUser}`).doc(IdToUpdate).set(updatedContact)\r\n      setIdToUpdate(null)\r\n      setPhoneInput('')\r\n      setNameInput('')\r\n      getContacts()\r\n      setLoadingAdd(false)\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  const deleteContact = async(id) => {\r\n    try {\r\n      await db.collection(`phoneBook-${props.currentUser}`).doc(id).delete();\r\n      getContacts()\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n            <div className=\"row\">\r\n              <div className=\"col\">\r\n                <h2>New contact</h2>\r\n                <form className=\"form-group\" onSubmit={IdToUpdate? updateContact : newContact}>\r\n                  <input type=\"text\" value={nameInput} onChange={(e) => setNameInput(e.target.value)} className=\"form-control\" placeholder=\"Type a name\"/>\r\n                  <input type=\"number\" value={phoneInput} onChange={(e) => setPhoneInput(e.target.value)} className=\"form-control\" placeholder=\"Type a number phone\"/>\r\n                  <div className=\"d-grid gap-2\">\r\n\r\n                    {IdToUpdate?\r\n                      <>\r\n                        {loadingAdd?\r\n                            <div className=\"btn btn-dark btn-block mt-3\">\r\n                              <div className=\"spinner-border text-light\" role=\"status\">\r\n                                <span className=\"visually-hidden\">Loading...</span>\r\n                              </div>\r\n                            </div>\r\n                          :\r\n                            <input type=\"submit\" value=\"Update contact\" className=\"btn btn-primary btn-block mt-3\"/>\r\n                          }\r\n                      </>\r\n                      :\r\n                      <>\r\n                        {loadingAdd?\r\n                          <div className=\"btn btn-dark btn-block mt-3\">\r\n                            <div className=\"spinner-border text-light\" role=\"status\">\r\n                              <span className=\"visually-hidden\">Loading...</span>\r\n                            </div>\r\n                          </div>\r\n                        :\r\n                          <input type=\"submit\" value=\"Add contact\" className=\"btn btn-dark btn-block mt-3\"/>\r\n                        }\r\n                        \r\n                      </>\r\n                    }\r\n\r\n                  </div>\r\n                </form>\r\n                {error? \r\n                  <div className=\"text-danger mt-2\">{error}</div>\r\n                  : <></>\r\n                }\r\n                {success?\r\n                  <div className=\"text-success mt-2\">Person correctly added!</div>\r\n                  : <></>\r\n                }\r\n              </div>\r\n              <div className=\"col\">\r\n                <h2>Contact list</h2>\r\n                <ul className=\"list-group\">\r\n                  {\r\n                    loadingPeople?\r\n                      <li className=\"list-group-item text-center\">\r\n                        <div className=\"spinner-border text-primary\" role=\"status\">\r\n                          <span className=\"visually-hidden\">Loading...</span>\r\n                        </div>                        \r\n                      </li>\r\n                      :\r\n                      <>\r\n                        { contacts.length?\r\n                            contacts.map((el,i) => {\r\n                              return (\r\n                                <li className=\"list-group-item\" key={el.id + i}>\r\n                                  <div className=\"row\"> \r\n                                    <div className=\"col\">{el.name}</div>\r\n                                    <div className=\"col\">{el.phone}</div>\r\n                                    <div className=\"col btn-group float-end\">\r\n                                      <button className=\"btn btn-secondary\" onClick={() => editContact(el.id)}>Update</button>\r\n                                      <button className=\"btn btn-danger\" onClick={() => deleteContact(el.id)}>Delete</button>\r\n                                    </div>\r\n                                  </div>\r\n                                </li>)\r\n                            })\r\n                          : \r\n                            <>\r\n                              <div>It seems that there are no people here...</div>\r\n                              <div>Try adding a new contact!</div>\r\n                            </>\r\n                        }\r\n                      </>\r\n                  }\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n  )\r\n}\r\n\r\nexport default PhoneBook","import React, { useEffect } from 'react';\r\n\r\nfunction Home(props) {\r\n  useEffect(() => {\r\n    if (props.msg) {\r\n      setTimeout(()=>{\r\n        props.showMessage(null)\r\n      }\r\n      ,3000)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {props.msg?\r\n        <div className=\"alert alert-success\" role=\"alert\">\r\n          {props.msg}\r\n        </div>\r\n        :  <></>\r\n      }\r\n      <h1 className=\"text-center mt-2\">Home</h1>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { auth } from '../firebaseConfig'\r\n\r\n\r\nfunction Menu(props) {\r\n\r\n  const history = useHistory()\r\n\r\n  const logout = () => {\r\n    auth.signOut()\r\n      .then(res => {\r\n        history.push('/')\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\r\n      <div className=\"container-fluid\">\r\n\r\n        \r\n\r\n            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            {props.currentUser?\r\n              <>\r\n                <li className=\"nav-item\"><Link className=\"nav-link\" to='/'>Home</Link></li>\r\n                {props.currentUser !== \"noOne\"?\r\n                  <>\r\n                    <li className=\"nav-item\"><Link className=\"nav-link\" to='/phone-book'>Phone-book</Link></li>\r\n                    <li className=\"nav-item\"><Link className=\"nav-link\" to='/profile'>Profile</Link></li>\r\n                  </>\r\n                  :\r\n                  <>\r\n                    <li className=\"nav-item\"><Link className=\"nav-link\" to='/register'>Register</Link></li>\r\n                    <li className=\"nav-item\"><Link className=\"nav-link\" to='/login'>Login</Link></li>\r\n                  </>\r\n                }\r\n              </>\r\n             : <></>\r\n            }\r\n            </ul>\r\n\r\n\r\n          <></>\r\n\r\n\r\n            {props.currentUser !== \"noOne\"?\r\n              <button className=\"btn btn-danger\" onClick={logout}>Logout</button>\r\n              : <></>\r\n            }\r\n\r\n      </div>\r\n    </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","import React, {useState} from 'react';\r\nimport {auth} from '../firebaseConfig'\r\nimport {useHistory, Link} from 'react-router-dom'\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [error, setError] = useState(null)\r\n  const history = useHistory()\r\n\r\n  const loginUser = (e) => {\r\n    e.preventDefault();\r\n\r\n    auth.signInWithEmailAndPassword(email, password)\r\n      .then((res) => {\r\n        setError(null)\r\n        history.push('/')\r\n      })\r\n      .catch((e) => {\r\n        setError(e.message)\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form className=\"container-fluid border mt-5\" style={{maxWidth:\"360px\"}} onSubmit={loginUser}>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"emailInput\" className=\"form-label\">Email</label>\r\n          <input type=\"text\" className=\"form-control\" id=\"emailInput\" placeholder=\"Type a email for username\" \r\n            onChange={(e) => setEmail(e.target.value)} />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"passInput\" className=\"form-label\">Password</label>\r\n          <input type=\"password\" className=\"form-control\" id=\"passInput\" placeholder=\"Type a password\" \r\n          onChange={(e) => setPassword(e.target.value)}  />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <input type=\"submit\" className=\"btn btn-dark btn-block mt-4 w-100\" value=\"Log In\"/>\r\n        </div>\r\n        {error?\r\n          <div className=\"text-danger mb-2\">{error}</div>\r\n          : <></>\r\n        }\r\n        <div className=\"mb-2\">Don't have an account? <Link to=\"/register\">Sign up</Link> </div>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, {useState} from 'react';\r\nimport {auth} from '../firebaseConfig'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [error, setError] = useState(null)\r\n  const history = useHistory()\r\n\r\n  const registerUser = (e) => {\r\n    e.preventDefault();\r\n    auth.createUserWithEmailAndPassword(email, password)\r\n      .then((res) => {\r\n        props.showMessage(\"Great! Now you can use your own Phone book!\")\r\n        setError(null)\r\n        history.push('/')\r\n      })\r\n      .catch((e) => {\r\n        setError(e.message)\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form className=\"container-fluid border mt-5\" style={{maxWidth:\"360px\"}} onSubmit={registerUser}>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"emailInput\" className=\"form-label\">Email</label>\r\n          <input type=\"email\" className=\"form-control\" id=\"emailInput\" placeholder=\"Type a email for username\" \r\n            onChange={(e) => setEmail(e.target.value)} />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"passInput\" className=\"form-label\">Password</label>\r\n          <input type=\"password\" className=\"form-control\" id=\"passInput\" placeholder=\"Type a password\" \r\n          onChange={(e) => setPassword(e.target.value)}  />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <input type=\"submit\" className=\"btn btn-dark btn-block mt-4 w-100\" value=\"Sign up\"/>\r\n        </div>\r\n        {error?\r\n          <div className=\"text-danger mb-2\">{error}</div>\r\n          : <></>\r\n        }\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { store, db, /* auth */ } from \"../firebaseConfig\";\r\n\r\nfunction Profile(props) {\r\n\r\n  const [nick, setNick] = useState('')\r\n  const [gender, setGender] = useState('')\r\n  const [imageFile, setImageFile] = useState('')\r\n\r\n  const [dataProfile, setDataProfile] = useState(null)\r\n\r\n  const [imageProfileURL, setImageProfileURL] = useState(null)\r\n\r\n  const [loadingDataProfile, setLoadingDataProfile] = useState(true)\r\n\r\n  useEffect(() => {\r\n    setLoadingDataProfile(true)\r\n\r\n    const getImageProfile = async() => {\r\n      try {\r\n        if (props.currentUser) {\r\n          const imgURL = await store.ref(`/images/${props.currentUser}`).getDownloadURL()\r\n          setImageProfileURL(imgURL)\r\n          setLoadingDataProfile(false)\r\n        }\r\n      }\r\n      catch (e) {\r\n        console.log(e);\r\n        setImageProfileURL(null)\r\n        setLoadingDataProfile(false)\r\n      }\r\n      console.log(\"Efecto!\");\r\n    }\r\n\r\n    const getDataProfile = async() => {\r\n      if (props.currentUser) {\r\n        try {\r\n          const dataUser = await db.collection(`Users-Data`).doc(props.currentUser).get()\r\n          /* console.log(dataUser.data()); */\r\n          setDataProfile(dataUser.data())\r\n        }\r\n        catch (e) {\r\n          console.log(e);\r\n        }\r\n        console.log(\"Efecto!\");\r\n      }\r\n    }\r\n\r\n    getDataProfile()\r\n    getImageProfile()\r\n  }, [props.currentUser])\r\n\r\n  /* Same methods outside effect */ \r\n  const getImageProfile = async() => {\r\n    console.log(\"out the useEffect\");\r\n    try {\r\n      if (props.currentUser) {\r\n        const imgURL = await store.ref(`/images/${props.currentUser}`).getDownloadURL()\r\n        setImageProfileURL(imgURL)\r\n        setLoadingDataProfile(false)\r\n\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n      setImageProfileURL(null)\r\n    }\r\n  }\r\n\r\n  const getDataProfile = async() => {\r\n    if (props.currentUser) {\r\n      try {\r\n        const dataUser = await db.collection(`Users-Data`).doc(props.currentUser).get()\r\n        /* console.log(dataUser.data()); */\r\n        setDataProfile(dataUser.data())\r\n      }\r\n      catch (e) {\r\n        console.log(e);\r\n      }\r\n      console.log(\"Efecto!\");\r\n    }\r\n  }\r\n\r\n  /* End same methods outside effect */ \r\n\r\n\r\n  const updateProfile = async(e) => {\r\n    e.preventDefault()\r\n    setLoadingDataProfile(true)\r\n\r\n    const userData = {\r\n      nick: nick,\r\n      gender: gender\r\n    }\r\n    try {\r\n      /* db.collection(`phoneBook-${props.currentUser}`).doc(IdToUpdate).set(updatedContact) */\r\n      await db.collection(`Users-Data`).doc(props.currentUser).set(userData)\r\n      // Esto sube  la image\r\n      console.log(\"fin de carga de data\");\r\n      if (imageFile) {\r\n        await store.ref(`/images/${props.currentUser}`).put(imageFile)\r\n        await getImageProfile()\r\n        console.log(\"fin de carga de img\");\r\n      }\r\n      /* .getDownloadURL() */\r\n      await getDataProfile()\r\n      console.log(\"fin de get img\");\r\n    }\r\n    catch {\r\n      console.log(e);\r\n    }\r\n\r\n    /* console.log(userData) */\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"text-center mt-2\">Profile</h1>\r\n      {/* <h2 className=\"text-center mt-2\">Usuario {props.currentUser}</h2> */}\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col\">\r\n          <form onSubmit={updateProfile} className=\"form-control\" style={{maxWidth:\"480px\"}}>\r\n            <h4>Edit Profile</h4>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"username\" className=\"form-label\">Name</label>\r\n              <input type=\"text\" className=\"form-control\" id=\"username\" placeholder=\"Type a name or nickname\" onChange={ (e) => {setNick(e.target.value)} } />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label className=\"form-label\">Gender</label>\r\n              <select className=\"form-select\" aria-label=\"Default select example\" onChange={ (e) => {setGender(e.target.value)} }>\r\n                <option defaultValue>Open this select menu</option>\r\n                <option value=\"Male\">Male</option>\r\n                <option value=\"Female\">Female</option>\r\n                <option value=\"Unicorn\">Unicorn ðŸ¦„</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"imageInput\" className=\"form-label\">Name</label>\r\n              <input type=\"file\" className=\"form-control\" id=\"imageInput\" placeholder=\"Type a name or nickname\" onChange={(e)=> setImageFile(e.target.files[0])}/>\r\n            </div>\r\n            <input type=\"submit\" className=\"btn btn-dark mt-4 w-100\" value=\"Update profile\"/>\r\n          </form>\r\n        </div>\r\n        <div className=\"col\">\r\n          {/* <h4 className=\"text-center\"> User's Details </h4> */}\r\n          {loadingDataProfile?\r\n            <div className=\"text-center\">\r\n              <div className=\"spinner-border text-primary\" role=\"status\">\r\n                <span className=\"visually-hidden\">Loading...</span>\r\n              </div>\r\n            </div>\r\n\r\n            :\r\n            <>\r\n              <div className=\"d-flex justify-content-center\">\r\n\r\n                <div className=\"card\" style={{width: \"18rem\"}}>\r\n                  {imageProfileURL?\r\n                    <img src={imageProfileURL} className=\"card-img-top\" alt=\"...\" />\r\n                    :\r\n                    <img src=\"/phone-book-firebase/images/unnamed.jpg\" className=\"card-img-top\" alt=\"...\" />\r\n                  }\r\n            \r\n                  {dataProfile?\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title\">{dataProfile.nick}</h5>\r\n                      <p className=\"card-text\">{dataProfile.gender}</p>\r\n                    </div>\r\n                    :\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title\">Unknown</h5>\r\n                      <p className=\"card-text\">No data</p>\r\n                    </div>\r\n                  }\r\n                  \r\n\r\n                </div>\r\n              </div>\r\n              {/* <button onClick={getImageProfile}>Get Profile Pic</button> */}\r\n              \r\n            </>\r\n          }\r\n\r\n        </div>\r\n      </div>\r\n    </ div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useEffect, useState } from \"react\";\nimport {HashRouter, Switch, Route} from 'react-router-dom'\nimport PhoneBook from './components/PhoneBook'\nimport Home from './components/Home'\nimport Menu from './components/Menu'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport Profile from './components/Profile'\n\n\nimport { auth } from './firebaseConfig'\n\n\n\nfunction App() {\n  const [currentUserId, setCurrentUserId] = useState(null)\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    auth.onAuthStateChanged( (user) => {\n      /* console.log(user) */\n      if (user) {\n        setCurrentUserId(user.uid)\n      } else {\n        setCurrentUserId('noOne')\n      }\n    });\n    \n  })\n\n  const showMessage = (msg) => {\n    setMessage(msg)\n  }\n\n  return (\n    <HashRouter basename='/'>\n\n      <Menu currentUser={currentUserId} />\n\n      <Switch>\n        <Route exact path=\"/\">\n          <Home msg = {message} showMessage = {showMessage}  />\n        </Route>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/register\">\n          <Register showMessage = {showMessage} />\n        </Route>\n        <Route path=\"/phone-book\">\n          <PhoneBook currentUser={currentUserId}/>\n        </Route>\n        <Route path=\"/profile\">\n          <Profile currentUser={currentUserId}/>\n        </Route>\n      </Switch>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}