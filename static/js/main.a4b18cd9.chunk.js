(this["webpackJsonpfirebase-storage-test"]=this["webpackJsonpfirebase-storage-test"]||[]).push([[0],{48:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),s=n(31),r=n.n(s),l=n(16),i=n(8),o=n(33),b=n(15),j=n.n(b),u=n(19),d=n(9),m=n(22);n(41),n(42);m.a.initializeApp({apiKey:"AIzaSyBTbPzUKMEJwgrXVWvFQyDFhThMbgX5cbs",authDomain:"udemy-auth-learning.firebaseapp.com",projectId:"udemy-auth-learning",storageBucket:"udemy-auth-learning.appspot.com",messagingSenderId:"409133570692",appId:"1:409133570692:web:9958d4098531ba38ac80d1",measurementId:"G-3WJTJZHHP4"});var h=m.a.firestore(),p=m.a.auth(),O=n(2);var x=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),l=r[0],i=r[1],b=Object(a.useState)([]),m=Object(d.a)(b,2),p=m[0],x=m[1],v=Object(a.useState)(null),f=Object(d.a)(v,2),g=f[0],N=f[1],k=Object(a.useState)(!1),y=Object(d.a)(k,2),w=y[0],S=y[1],F=Object(a.useState)(null),I=Object(d.a)(F,2),C=I[0],T=I[1],P=Object(a.useState)(!1),B=Object(d.a)(P,2),D=B[0],E=B[1],A=Object(a.useState)(!1),L=Object(d.a)(A,2),W=L[0],J=L[1];Object(a.useEffect)((function(){M()}),[]);var H=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.collection("phoneBook").doc(t).delete();case 3:M(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,a,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.collection("phoneBook").doc(t).get();case 3:n=e.sent,a=n.data(),s=a.name,r=a.phone,i(r),c(s),T(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),a={name:n,phone:l},e.prev=3,e.next=6,h.collection("phoneBook").doc(C).set(a);case 6:T(null),i(""),c(""),M(),E(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.prev=1,e.next=4,h.collection("phoneBook").get();case 4:t=e.sent,n=t.docs,a=n.map((function(e){return Object(o.a)({id:e.id},e.data())})),x(a),J(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()){e.next=5;break}N("Name can't be blanck"),e.next=26;break;case 5:if(l){e.next=9;break}N("Phone can't be blanck"),e.next=26;break;case 9:return N(null),E(!0),a={name:n,phone:l},e.prev=12,e.next=15,h.collection("phoneBook").add(a);case 15:c(""),i(""),S(!0),M(),E(!1),setTimeout((function(){S(!1)}),3e3),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[12,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"container mt-5",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("h2",{children:"New contact"}),Object(O.jsxs)("form",{className:"form-group",onSubmit:C?z:K,children:[Object(O.jsx)("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)},className:"form-control",placeholder:"Type a name"}),Object(O.jsx)("input",{type:"number",value:l,onChange:function(e){return i(e.target.value)},className:"form-control",placeholder:"Type a number phone"}),Object(O.jsx)("div",{className:"d-grid gap-2",children:C?Object(O.jsx)(O.Fragment,{children:D?Object(O.jsx)("div",{className:"btn btn-dark btn-block mt-3",children:Object(O.jsx)("div",{className:"spinner-border text-light",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(O.jsx)("input",{type:"submit",value:"Update contact",className:"btn btn-primary btn-block mt-3"})}):Object(O.jsx)(O.Fragment,{children:D?Object(O.jsx)("div",{className:"btn btn-dark btn-block mt-3",children:Object(O.jsx)("div",{className:"spinner-border text-light",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(O.jsx)("input",{type:"submit",value:"Add contact",className:"btn btn-dark btn-block mt-3"})})})]}),g?Object(O.jsx)("div",{className:"text-danger mt-2",children:g}):Object(O.jsx)(O.Fragment,{}),w?Object(O.jsx)("div",{className:"text-success mt-2",children:"Person correctly added!"}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("h2",{children:"Contact list"}),Object(O.jsx)("ul",{className:"list-group",children:W?Object(O.jsx)("li",{className:"list-group-item text-center",children:Object(O.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(O.jsx)(O.Fragment,{children:p.length?p.map((function(e,t){return Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col",children:e.name}),Object(O.jsx)("div",{className:"col",children:e.phone}),Object(O.jsxs)("div",{className:"col btn-group float-end",children:[Object(O.jsx)("button",{className:"btn btn-secondary",onClick:function(){return U(e.id)},children:"Update"}),Object(O.jsx)("button",{className:"btn btn-danger",onClick:function(){return H(e.id)},children:"Delete"})]})]})},e.id+t)})):Object(O.jsx)("div",{children:"There aren't people here..."})})})]})]})})};var v=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h1",{className:"text-center mt-2",children:"Home"})})};var f=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(i.f)();return Object(a.useEffect)((function(){p.onAuthStateChanged((function(e){e&&c(e.email)}))}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg",children:Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(l.b,{className:"nav-link",to:"/",children:"Home"})}),n?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(l.b,{className:"nav-link",to:"/phone-book",children:"Phone-book"})})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(l.b,{className:"nav-link",to:"/register",children:"Register"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(l.b,{className:"nav-link",to:"/login",children:"Login"})})]})]}),n?Object(O.jsx)("button",{className:"btn btn-danger",onClick:function(){p.signOut().then((function(e){c(null),s.push("/")})).catch((function(e){console.log(e)}))},children:"Logout"}):Object(O.jsx)(O.Fragment,{})]})})})};var g=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),o=r[0],b=r[1],j=Object(a.useState)(null),u=Object(d.a)(j,2),m=u[0],h=u[1],x=Object(i.f)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{className:"container-fluid border mt-5",style:{maxWidth:"360px"},onSubmit:function(e){e.preventDefault(),p.signInWithEmailAndPassword(n,o).then((function(e){h(null),x.push("/")})).catch((function(e){h(e.message)}))},children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"emailInput",className:"form-label",children:"Email"}),Object(O.jsx)("input",{type:"text",className:"form-control",id:"emailInput",placeholder:"Type a email for username",onChange:function(e){return c(e.target.value)}})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"passInput",className:"form-label",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"passInput",placeholder:"Type a password",onChange:function(e){return b(e.target.value)}})]}),Object(O.jsx)("div",{className:"mb-3",children:Object(O.jsx)("input",{type:"submit",className:"btn btn-dark btn-block mt-4 w-100",value:"Log In"})}),m?Object(O.jsx)("div",{className:"text-danger mb-2",children:m}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)("div",{className:"mb-2",children:["Don't have an account? ",Object(O.jsx)(l.b,{to:"/register",children:"Sign up"})," "]})]})})};var N=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),l=r[0],o=r[1],b=Object(a.useState)(null),j=Object(d.a)(b,2),u=j[0],m=j[1],h=Object(i.f)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{className:"container-fluid border mt-5",style:{maxWidth:"360px"},onSubmit:function(e){e.preventDefault(),p.createUserWithEmailAndPassword(n,l).then((function(e){alert("se registr\xf3 el usuario"),m(null),h.push("/")})).catch((function(e){m(e.message)}))},children:[Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"emailInput",className:"form-label",children:"Email"}),Object(O.jsx)("input",{type:"email",className:"form-control",id:"emailInput",placeholder:"Type a email for username",onChange:function(e){return c(e.target.value)}})]}),Object(O.jsxs)("div",{className:"mb-3",children:[Object(O.jsx)("label",{htmlFor:"passInput",className:"form-label",children:"Password"}),Object(O.jsx)("input",{type:"password",className:"form-control",id:"passInput",placeholder:"Type a password",onChange:function(e){return o(e.target.value)}})]}),Object(O.jsx)("div",{className:"mb-3",children:Object(O.jsx)("input",{type:"submit",className:"btn btn-dark btn-block mt-4 w-100",value:"Sign up"})}),u?Object(O.jsx)("div",{className:"text-danger mb-2",children:u}):Object(O.jsx)(O.Fragment,{})]})})};var k=function(){return Object(O.jsxs)(l.a,{basename:"/",children:[Object(O.jsx)(f,{}),Object(O.jsxs)(i.c,{children:[Object(O.jsx)(i.a,{exact:!0,path:"/",children:Object(O.jsx)(v,{})}),Object(O.jsx)(i.a,{path:"/login",children:Object(O.jsx)(g,{})}),Object(O.jsx)(i.a,{path:"/register",children:Object(O.jsx)(N,{})}),Object(O.jsx)(i.a,{path:"/phone-book",children:Object(O.jsx)(x,{})})]})]})};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.a4b18cd9.chunk.js.map